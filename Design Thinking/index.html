<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <title>Invoice Sederhana</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      h2 {
        text-align: center;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      table,
      th,
      td {
        border: 1px solid #333;
      }
      th,
      td {
        padding: 10px;
        text-align: left;
      }
      tfoot td {
        font-weight: bold;
      }
      .right {
        text-align: right;
      }
      .btn {
        margin-top: 20px;
        padding: 10px 15px;
        background: #4caf50;
        color: #fff;
        border: none;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h2>Invoice</h2>

    <p><b>Perusahaan:</b> PT Contoh Jaya</p>
    <p><b>Tanggal:</b> <span id="tanggal"></span></p>

    <table id="invoiceTable">
      <thead>
        <tr>
          <th>Item</th>
          <th>Qty</th>
          <th>Harga</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="invoiceBody">
        <!-- Item ditambahkan lewat JavaScript -->
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3" class="right">Subtotal</td>
          <td id="subtotal">0</td>
        </tr>
        <tr>
          <td colspan="3" class="right">PPN (10%)</td>
          <td id="ppn">0</td>
        </tr>
        <tr>
          <td colspan="3" class="right">Grand Total</td>
          <td id="grandTotal">0</td>
        </tr>
      </tfoot>
    </table>

    <button class="btn" onclick="printInvoice()">Cetak Invoice</button>

    <script>
      // Data invoice contoh
      const items = [
        { name: "Produk A", qty: 2, price: 50000 },
        { name: "Produk B", qty: 1, price: 75000 },
        { name: "Produk C", qty: 3, price: 20000 },
      ];

      function renderInvoice() {
        const tbody = document.getElementById("invoiceBody");
        let subtotal = 0;

        items.forEach((item) => {
          let total = item.qty * item.price;
          subtotal += total;

          let row = `<tr>
          <td>${item.name}</td>
          <td>${item.qty}</td>
          <td>Rp ${item.price.toLocaleString()}</td>
          <td>Rp ${total.toLocaleString()}</td>
        </tr>`;
          tbody.innerHTML += row;
        });

        let ppn = subtotal * 0.1;
        let grandTotal = subtotal + ppn;

        document.getElementById("subtotal").innerText =
          "Rp " + subtotal.toLocaleString();
        document.getElementById("ppn").innerText = "Rp " + ppn.toLocaleString();
        document.getElementById("grandTotal").innerText =
          "Rp " + grandTotal.toLocaleString();
      }

      function printInvoice() {
        window.print();
      }

      // Tanggal otomatis hari ini
      document.getElementById("tanggal").innerText =
        new Date().toLocaleDateString("id-ID");

      // Jalankan render saat halaman load
      renderInvoice();
    </script>
  </body>
</html>
